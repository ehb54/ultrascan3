# UltraScan Icon Conversion Guide

This README explains how to convert the UltraScan PNG icon files into ICO and XPM formats
for cross-platform use with Qt, Windows, and legacy X11 systems.

All commands below use **ImageMagick v7** (`magick` command).  

## ICO Conversion (Windows / Qt)
Creates high-fidelity `.ico` files from each PNG while preserving transparency and glow.
Each `.ico` file contains a single resolution layer, matching the PNG size.

```bash
# ---- UltraScan (US3) ----
magick us3-icon-128x128.png -alpha on -background none ico:us3-icon-128x128.ico
magick us3-icon-48x48.png  -alpha on -background none ico:us3-icon-48x48.ico
magick us3-icon-32x32.png  -alpha on -background none ico:us3-icon-32x32.ico

# ---- UltraScan GMP ----
magick us3-GMP-icon-128x128.png -alpha on -background none ico:us3-GMP-icon-128x128.ico
magick us3-GMP-icon-48x48.png  -alpha on -background none ico:us3-GMP-icon-48x48.ico
magick us3-GMP-icon-32x32.png  -alpha on -background none ico:us3-GMP-icon-32x32.ico
````

**Use case:**

* Ideal for Windows executables, installers, or Qt builds that reference `.ico` icons.
* The generated `.ico` files are PNG-compressed internally for full alpha fidelity.

---

## XPM Conversion (Legacy Qt / X11)

Creates `.xpm` icons compatible with older Qt3/Qt4 or X11 environments.
Transparency is simplified (1-bit mask), but colors are preserved.

```bash
# ---- UltraScan (US3) ----
magick us3-icon-128x128.png -alpha on -background none xpm:us3-icon-128x128.xpm
magick us3-icon-48x48.png  -alpha on -background none xpm:us3-icon-48x48.xpm
magick us3-icon-32x32.png  -alpha on -background none xpm:us3-icon-32x32.xpm

# ---- UltraScan GMP ----
magick us3-GMP-icon-128x128.png -alpha on -background none xpm:us3-GMP-icon-128x128.xpm
magick us3-GMP-icon-48x48.png  -alpha on -background none xpm:us3-GMP-icon-48x48.xpm
magick us3-GMP-icon-32x32.png  -alpha on -background none xpm:us3-GMP-icon-32x32.xpm
```

**Use case:**

* Only needed for older HPC or Linux systems still running legacy Qt/X11 builds.
* Modern Qt5/Qt6 installations should use PNG icons instead.

---

## Summary

| Format | Typical Use                | Transparency                | Notes                            |
| ------ | -------------------------- | --------------------------- | -------------------------------- |
| `.png` | Modern Qt, macOS, Linux    | Full alpha                  | Primary source format            |
| `.ico` | Windows, Qt cross-platform | Full alpha (PNG-compressed) | For EXEs or desktop launchers    |
| `.xpm` | Legacy Qt/X11              | 1-bit mask                  | For backwards compatibility only |

---

**Tip:**
Keep all three sizes (`128x128`, `48x48`, `32x32`) in your Qt resource file (`.qrc`)
so the application automatically chooses the best resolution per DPI level.

Here’s a compact **README section** you can drop in right after your XPM section — clean, consistent, and ready to copy/paste:

---

## ICNS Conversion (macOS)

The `.icns` format is used by macOS for application and Dock icons.  
It bundles multiple PNG sizes into a single Retina-ready icon file.

### Create `us3-icon.icns`

```bash
mkdir us3-icon.iconset
cp us3-icon-32x32.png   us3-icon.iconset/icon_32x32.png
cp us3-icon-48x48.png   us3-icon.iconset/icon_48x48.png
cp us3-icon-128x128.png us3-icon.iconset/icon_128x128.png
cp us3-icon-128x128.png us3-icon.iconset/icon_256x256.png
cp us3-icon-128x128.png us3-icon.iconset/icon_512x512.png
iconutil -c icns us3-icon.iconset
````

Result:

```
us3-icon.icns
```

Place the file in your macOS app bundle under:

```
UltraScan.app/Contents/Resources/us3-icon.icns
```

and reference it in **Info.plist**:

```xml
<key>CFBundleIconFile</key>
<string>us3-icon</string>
```


